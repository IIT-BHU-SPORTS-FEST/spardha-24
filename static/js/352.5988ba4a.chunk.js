"use strict";(self.webpackChunkspardha25=self.webpackChunkspardha25||[]).push([[352],{1352:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(5043),n=s(9722),o=s(579);const l=()=>{const[e,t]=(0,a.useState)({document:{field:"Value"}}),[s,l]=(0,a.useState)(!1),r=localStorage.getItem("role");return(0,a.useEffect)(()=>{const e=localStorage.getItem("token");n.A.get({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+"documents/",{headers:{Authorization:"Token "+e}}).then(e=>{e.data&&e.data.length>0&&(l(!0),t(e.data.at(0)))})},[s]),(0,o.jsx)("div",{className:"user-dashboard3 profile_Pad",children:(0,o.jsx)("div",{className:"row_dbProfile",children:(0,o.jsx)("div",{children:"staff"===r||"admin"===r?(0,o.jsx)("h3",{style:{marginTop:"30px"},children:" Staff and Admins can't upload documents  "}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"doc_upper_content",children:s?(0,o.jsx)(d,{doc:e}):(0,o.jsx)(c,{setDocumentUploaded:l})}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]})})})})},d=e=>{let{doc:t}=e;const[s,l]=(0,a.useState)(t.document[Object.keys(t.document).at(0)]),d=t.id;(0,a.useEffect)(()=>{l(t.document[Object.keys(t.document).at(0)])},[t.document]);let c;return c=2===t.status?"Verfied Successfully!":1===t.status?"Rejected. Please read the comments.":"Pending...",(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("br",{}),(0,o.jsx)("label",{htmlFor:"formFile",className:"form-label",children:(0,o.jsx)("h6",{children:"Uploaded Drive Link"})}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",className:"form-control",placeholder:"Input",value:s,onChange:e=>{l(e.target.value)},disabled:2===t.status}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{style:{display:"flex"},children:(0,o.jsx)("button",{type:"button",className:"btn btn-outline-success",id:"buttonn",onClick:async e=>{e.preventDefault();const t=localStorage.getItem("token");await n.A.patch({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+"documents/".concat(d,"/"),{document:{link:s}},{headers:{Authorization:"Token "+t}}),alert("Uploaded Changes")},disabled:2===t.status,children:"I have made Changes"})})]}),(0,o.jsxs)("div",{className:"comment",children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("h6",{children:"Comments:"}),(0,o.jsx)("h6",{children:t.description?t.description:"No Comments"})]}),(0,o.jsx)("div",{className:"doc_lower_content",children:(0,o.jsx)("div",{className:"status",children:(0,o.jsx)("div",{className:"col",children:(0,o.jsxs)("h6",{children:["Verification  Status:  ",c]})})})})]})},c=e=>{let{setDocumentUploaded:t}=e;const[s,l]=(0,a.useState)("");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("br",{}),(0,o.jsx)("label",{htmlFor:"formFile",className:"form-label",children:(0,o.jsx)("h6",{children:"Upload Drive Link For Verification"})}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",className:"form-control",placeholder:"Input",value:s,onChange:e=>{l(e.target.value)}})]}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{type:"button",className:"btn btn-outline-success",id:"buttonn",onClick:async e=>{e.preventDefault();const a=localStorage.getItem("token");await n.A.post({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+"documents/",{document:{link:s}},{headers:{Authorization:"Token "+a}}),t(!0)},children:"Upload"}),(0,o.jsx)("div",{className:"doc_lower_content",children:(0,o.jsx)("div",{className:"status",children:(0,o.jsx)("div",{className:"col",children:(0,o.jsx)("h6",{children:"Please Upload Your Document Folder Link"})})})})]})}}}]);
//# sourceMappingURL=352.5988ba4a.chunk.js.map