"use strict";(self.webpackChunkspardha25=self.webpackChunkspardha25||[]).push([[352],{1352:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(5043),n=s(854),o=s.n(n),l=s(579);const d=()=>{const[e,t]=(0,a.useState)({document:{field:"Value"}}),[s,n]=(0,a.useState)(!1),d=localStorage.getItem("role");return(0,a.useEffect)(()=>{const e=localStorage.getItem("token");o().get({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+"documents/",{headers:{Authorization:"Token "+e}}).then(e=>{e.data&&e.data.length>0&&(n(!0),t(e.data.at(0)))})},[s]),(0,l.jsx)("div",{className:"user-dashboard3 profile_Pad",children:(0,l.jsx)("div",{className:"row_dbProfile",children:(0,l.jsx)("div",{children:"staff"===d||"admin"===d?(0,l.jsx)("h3",{style:{marginTop:"30px"},children:" Staff and Admins can't upload documents  "}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"doc_upper_content",children:s?(0,l.jsx)(c,{doc:e}):(0,l.jsx)(r,{setDocumentUploaded:n})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})})})})},c=e=>{let{doc:t}=e;const[s,n]=(0,a.useState)(t.document[Object.keys(t.document).at(0)]),d=t.id;(0,a.useEffect)(()=>{n(t.document[Object.keys(t.document).at(0)])},[t.document]);let c;return c=2===t.status?"Verfied Successfully!":1===t.status?"Rejected. Please read the comments.":"Pending...",(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("br",{}),(0,l.jsx)("label",{htmlFor:"formFile",className:"form-label",children:(0,l.jsx)("h6",{children:"Uploaded Drive Link"})}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",className:"form-control",placeholder:"Input",value:s,onChange:e=>{n(e.target.value)},disabled:2===t.status}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{style:{display:"flex"},children:(0,l.jsx)("button",{type:"button",className:"btn btn-outline-success",id:"buttonn",onClick:async e=>{e.preventDefault();const t=localStorage.getItem("token");await o().patch({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+"documents/".concat(d,"/"),{document:{link:s}},{headers:{Authorization:"Token "+t}}),alert("Uploaded Changes")},disabled:2===t.status,children:"I have made Changes"})})]}),(0,l.jsxs)("div",{className:"comment",children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("h6",{children:"Comments:"}),(0,l.jsx)("h6",{children:t.description?t.description:"No Comments"})]}),(0,l.jsx)("div",{className:"doc_lower_content",children:(0,l.jsx)("div",{className:"status",children:(0,l.jsx)("div",{className:"col",children:(0,l.jsxs)("h6",{children:["Verification  Status:  ",c]})})})})]})},r=e=>{let{setDocumentUploaded:t}=e;const[s,n]=(0,a.useState)("");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("br",{}),(0,l.jsx)("label",{htmlFor:"formFile",className:"form-label",children:(0,l.jsx)("h6",{children:"Upload Drive Link For Verification"})}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",className:"form-control",placeholder:"Input",value:s,onChange:e=>{n(e.target.value)}})]}),(0,l.jsx)("br",{}),(0,l.jsx)("button",{type:"button",className:"btn btn-outline-success",id:"buttonn",onClick:async e=>{e.preventDefault();const a=localStorage.getItem("token");await o().post({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+"documents/",{document:{link:s}},{headers:{Authorization:"Token "+a}}),t(!0)},children:"Upload"}),(0,l.jsx)("div",{className:"doc_lower_content",children:(0,l.jsx)("div",{className:"status",children:(0,l.jsx)("div",{className:"col",children:(0,l.jsx)("h6",{children:"Please Upload Your Document Folder Link"})})})})]})}}}]);
//# sourceMappingURL=352.3c3bbdcf.chunk.js.map