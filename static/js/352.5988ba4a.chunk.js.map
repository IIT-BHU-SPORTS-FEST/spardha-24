{"version":3,"file":"static/js/352.5988ba4a.chunk.js","mappings":"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","sources":["components/DashBoard/Document/Document.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Document.css';\nimport axios from 'axios';\n\nconst Document = () => {\n    const [documentData, setDocumentData] = useState({ document: { field: \"Value\" } });\n    const [documentUploaded, setDocumentUploaded] = useState(false); // State to track document upload status\n    const role = localStorage.getItem('role');\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        axios.get(process.env.REACT_APP_BASE_URL + \"documents/\", {\n            headers: {\n                Authorization: \"Token \" + token\n            }\n        }).then(res => {\n            // Check if the document data exists, and set documentUploaded accordingly\n            if (res.data && res.data.length > 0) {\n                setDocumentUploaded(true);\n                setDocumentData(res.data.at(0))\n            }\n        });\n    }, [documentUploaded]);\n\n\n    return (\n        <div className=\"user-dashboard3 profile_Pad\">\n            <div className=\"row_dbProfile\">\n                <div>\n                    {\n                        role === \"staff\" || role === \"admin\" ?\n                            <h3 style={{marginTop: \"30px\"}}> Staff and Admins can't upload documents  </h3>\n                            :\n                            <>\n                                <div className=\"doc_upper_content\">\n                                    {documentUploaded ? (\n                                        // UI 2: Display document data and comment if document is uploaded\n                                        <UploadedDocumentUI doc={documentData} />\n                                    ) : (\n                                        // UI 1: Display input field and upload button if document is not uploaded\n                                        <NotUploadedDocumentUI setDocumentUploaded={setDocumentUploaded} />\n                                    )}\n                                </div>\n                                <br />\n                                <br />\n                                <br />\n                            </>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Document;\n//UI2\nconst UploadedDocumentUI = ({ doc }) => {\n    const [inputValue, setInputValue] = useState(doc.document[Object.keys(doc.document).at(0)]);\n    const docId = doc.id;\n\n    useEffect(() => {\n        setInputValue(doc.document[Object.keys(doc.document).at(0)])\n    }, [doc.document])\n    const handleInputChange = (e) => {\n        setInputValue(e.target.value);\n    };\n    const handleMadeChanges = async (e) => {\n        e.preventDefault();\n        const token = localStorage.getItem('token');\n        await axios.patch(process.env.REACT_APP_BASE_URL + `documents/${docId}/`, {\n            document: {\n                link: inputValue\n            },\n        }, {\n            headers: {\n                Authorization: \"Token \" + token\n            }\n        });\n        alert(\"Uploaded Changes\")\n    };\n\n    let verifVerdict;\n    if (doc.status === 2) {\n        verifVerdict = \"Verfied Successfully!\"\n    }\n    else if (doc.status === 1) {\n        verifVerdict = \"Rejected. Please read the comments.\"\n    }\n    else {\n        verifVerdict = \"Pending...\"\n    }\n\n    return (\n        <>\n            <div className=\"mb-3\">\n                <br />\n                <label htmlFor=\"formFile\" className=\"form-label\"><h6>Uploaded Drive Link</h6></label>\n                <br />\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Input\"\n                    value={inputValue}\n                    onChange={handleInputChange}\n                    disabled={doc.status === 2}\n                />\n                <br />\n                <div style={{ display: \"flex\" }}>\n                    <button type=\"button\" className=\"btn btn-outline-success\" id=\"buttonn\" onClick={handleMadeChanges} disabled={doc.status === 2}>I have made Changes</button>\n                </div>\n            </div>\n            <div className=\"comment\">\n                <br /><br />\n                <h6>Comments:</h6>\n                <h6>{doc.description ? doc.description : \"No Comments\"}</h6>\n            </div>\n            <div className=\"doc_lower_content\">\n                <div className=\"status\">\n                    <div className=\"col\"><h6>Verification  Status:  {verifVerdict}</h6></div>\n                </div>\n            </div>\n        </>\n    );\n};\n//UI1\nconst NotUploadedDocumentUI = ({ setDocumentUploaded }) => {\n    const [inputValue, setInputValue] = useState('');\n    const handleInputChange = (e) => {\n        setInputValue(e.target.value);\n    };\n    const handleFormSubmit = async (e) => {\n        //post\n        e.preventDefault();\n        const token = localStorage.getItem('token');\n        await axios.post(process.env.REACT_APP_BASE_URL + \"documents/\", {\n            document: {\n                link: inputValue\n            }\n        }, {\n            headers: {\n                Authorization: \"Token \" + token\n            }\n        });\n        setDocumentUploaded(true);\n    };\n\n    return (\n        <>\n            <div className=\"mb-3\">\n                <br />\n                <label htmlFor=\"formFile\" className=\"form-label\"><h6>Upload Drive Link For Verification</h6></label>\n\n                <br />\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Input\"\n                    value={inputValue}\n                    onChange={handleInputChange}\n                />\n            </div>\n            <br />\n            <button type=\"button\" className=\"btn btn-outline-success\" id=\"buttonn\" onClick={handleFormSubmit}>Upload</button>\n            <div className=\"doc_lower_content\">\n                <div className=\"status\">\n                    <div className=\"col\"><h6>{'Please Upload Your Document Folder Link'}</h6></div>\n                </div>\n            </div>\n        </>\n    )\n}\n"],"names":["Document","documentData","setDocumentData","useState","document","field","documentUploaded","setDocumentUploaded","role","localStorage","getItem","useEffect","token","axios","get","process","REACT_APP_BASE_URL","headers","Authorization","then","res","data","length","at","_jsx","className","children","style","marginTop","_jsxs","_Fragment","UploadedDocumentUI","doc","NotUploadedDocumentUI","_ref","inputValue","setInputValue","Object","keys","docId","id","verifVerdict","status","htmlFor","type","placeholder","value","onChange","e","target","disabled","display","onClick","async","preventDefault","patch","concat","link","alert","description","_ref2","post"],"sourceRoot":""}