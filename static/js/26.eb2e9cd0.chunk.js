"use strict";(self.webpackChunkspardha23=self.webpackChunkspardha23||[]).push([[26],{7026:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var l=a(2791);const n="EventsEdit_welcome-text__ifotM",c="EventsEdit_user-dashboard__AgXoK",t="EventsEdit_panel__RneR3",i="EventsEdit_panel-heading__x21Yi",o="EventsEdit_panel-title__AcGGo",d="EventsEdit_btn__a8v8J",r="EventsEdit_panel-body__Wad52",h="EventsEdit_container__3PNOr",m="EventsEdit_input-wrapper__mcyrl",x="EventsEdit_sports-label__hdgRG",_="EventsEdit_error-message__54s9q";var j=a(9135),v=a(7356),g=a(4569),u=a.n(g),b=a(7689),E=a(3297),N=a(184);const p={boys:["Athletics","Badminton","Basketball","Boxing","Kabaddi","Kho-Kho","Handball","Lawn Tennis","Squash","Table Tennis","Volleyball","Taekwondo","Cricket","Football","Hockey","Powerlifting","Weightlifting"],girls:["Athletics","Badminton","Basketball","Boxing","Kabaddi","Kho-Kho","Handball","Lawn Tennis","Squash","Table Tennis","Taekwondo","Volleyball","Football"],mixed:["Chess","Cycling"]};function $(e){let{message:s}=e;return""===s?null:(0,N.jsx)("div",{className:_,children:(0,N.jsx)("p",{children:s})})}const f=function(){const e=(0,b.s0)(),s=localStorage.getItem("token"),a=[],[_,g]=(0,l.useState)(!0),[f,k]=(0,l.useState)(!0),[C,F]=(0,l.useState)(!0),[y,S]=(0,l.useState)(!1),[T,w]=(0,l.useState)(""),B={};p.boys.forEach((e=>{B[e+"_B"]=!1})),p.girls.forEach((e=>{B[e+"_G"]=!1})),p.mixed.forEach((e=>{B[e+"_M"]=!1}));const[A,O]=(0,l.useState)({}),[G,K]=(0,l.useState)({});let R={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL;"/"!==R.substring(R.length-1)&&(R+="/"),(0,l.useEffect)((()=>{S(!0),u().get(`${R}teams/`,{headers:{Authorization:`Token ${s}`}}).then((e=>{let{data:s}=e;const l={...a};for(const a of s)l[`${a.game}`]=!0;console.log("newg",l),O(l),K({...l}),S(!1)})).catch((e=>{console.error(e.message),w("Could not fetch data "+e.message)}))}),[]);const I=e=>{const s=e.target.id;A[s]=!A[s],console.log(G,A),O({...A})},{setGetEventCount:M}=l.useContext(E.A);return(0,N.jsx)("div",{className:`${c}`,children:(0,N.jsxs)("div",{className:`${n}`,children:[(0,N.jsx)("div",{className:"col-sm-12",children:(0,N.jsxs)("div",{className:"row xs-1 sm-2",children:[(0,N.jsx)("div",{className:"col-sm-6 mb-3 mb-sm-0",children:(0,N.jsxs)("div",{className:`${t}`,style:{height:"100%"},children:[(0,N.jsx)("div",{className:`${i}`,children:(0,N.jsxs)("h4",{onClick:()=>{g((e=>!e))},className:`${o} text-center align-items-center`,style:{color:"#FFFFFF"},children:[(0,N.jsx)(j._hA,{})," ",(0,N.jsx)("b",{children:"Boys "})]})}),(0,N.jsx)(v.UO,{isOpen:_,children:(0,N.jsx)("div",{className:`${r}`,children:(0,N.jsx)("div",{className:"row xs-1 sm-2",children:(0,N.jsx)("div",{className:`col-sm-6 ${h}`,children:p.boys.map((e=>(0,N.jsxs)(v.cw,{className:`${m}`,children:[(0,N.jsx)(v.II,{type:"checkbox",id:e+"_B",checked:A[e+"_B"],onChange:I}),(0,N.jsx)(v.__,{className:`${x}`,for:e+"_B",children:e})]},e+"_B")))})})})})]})}),(0,N.jsxs)("div",{className:"col-sm-6",children:[(0,N.jsxs)("div",{className:`${t}`,children:[(0,N.jsx)("div",{className:`${i}`,children:(0,N.jsxs)("h4",{onClick:()=>{k((e=>!e))},className:`${o} text-center align-items-center`,style:{color:"#FFFFFF"},children:[(0,N.jsx)(j.Cib,{})," ",(0,N.jsx)("b",{children:"Girls "})]})}),(0,N.jsx)(v.UO,{isOpen:f,children:(0,N.jsx)("div",{className:`${r}`,children:(0,N.jsxs)("div",{className:"row xs-1 sm-2",children:[(0,N.jsx)("div",{className:`col-sm-6 ${h}`,children:p.girls.map((e=>(0,N.jsxs)(v.cw,{className:`${m}`,children:[(0,N.jsx)(v.II,{type:"checkbox",id:e+"_G",checked:A[e+"_G"],onChange:I}),(0,N.jsx)(v.__,{className:`${x}`,for:e+"_G",children:e})]},e+"_G")))}),(0,N.jsx)("div",{className:`col-sm-6 ${h}`})]})})})]}),(0,N.jsxs)("div",{className:`${t}`,style:{marginBottom:"0",marginTop:"25px"},children:[(0,N.jsx)("div",{className:`${i}`,children:(0,N.jsx)("h4",{onClick:()=>{F((e=>!e))},className:`${o} text-center align-items-center`,style:{color:"#FFFFFF"},children:(0,N.jsx)("b",{children:"Mixed "})})}),(0,N.jsx)(v.UO,{isOpen:C,children:(0,N.jsx)("div",{className:`${r}`,children:(0,N.jsx)("div",{className:"row xs-1 sm-2",children:(0,N.jsx)("div",{className:`col-sm-6 ${h}`,children:p.mixed.map((e=>(0,N.jsxs)(v.cw,{className:`${m}`,children:[(0,N.jsx)(v.II,{type:"checkbox",id:e+"_M",checked:A[e+"_M"],onChange:I}),(0,N.jsx)(v.__,{className:`${x}`,for:e+"_M",children:e})]},e+"_M")))})})})})]})]})]})}),(0,N.jsx)($,{message:T}),(0,N.jsx)(v.zx,{color:"success",style:{fontWeight:"bold",width:"fit-content"},className:d,onClick:async()=>{let a=function(){let e={add:[],remove:[]};for(let s in A)A[s]!==!!G[s]&&(A[s]?e.add.push(s):e.remove.push(s));return console.log(e),e}();S(!0),u().patch(`${R}teams/`,{changes:a},{headers:{Authorization:`Token ${s}`}}).then((()=>{M((e=>e+1)),e("/dashboard/registration")})).catch((e=>{console.error(e),w("Could not submit changes "+e.message)})).finally((()=>{S(!1)}))},disabled:y,children:"Submit"})]})})}},3297:(e,s,a)=>{a.d(s,{A:()=>l});const l=(0,a(2791).createContext)()}}]);
//# sourceMappingURL=26.eb2e9cd0.chunk.js.map